<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta name="charset" content="UTF-8" />

  <title>Galactic Neighborhood</title>

  <meta name="keywords" content="TGN, Galactic Neighborhood, TTRPG, 
    game system, sci-fi, science fiction, space, magic, aliens" />
  <meta name="description" content="Free game system rules" />
  <meta name="author" content="Heston Montagne" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="icon" type="image/x-icon" href="images/favicon.ico">
  <link rel="stylesheet" href="styles.css">

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>

<body>

<nav>
  <div class="nav-container">

    <button type="button" onclick="toggleDropdown('settings')" class="settingsButton">
      <img src="images/Options.png" alt="Options" style="width: 45px; height: 45px;"> 
    </button>
    <div id="settings" class="settings" style="visibility: hidden;">
      <div><a class="homeLink" href="#" onclick="loadContent('about')">About</a></div>
      <a class="homeLink" href="1.02 The Galactic Neighborhood.pdf">Rules PDF</a>
    </div>

    <a class="home homeLink" href="#" onclick="loadContent('home')">Home</a>

    <button type="button" onclick="toggleDropdown('HTP')" class="dropdown">
      <div>How to Play</div>
    </button>
    <div id="HTP" class="dropdownContent" style="visibility: hidden; left: 15%;">
      <div class="section">
          <a class="topnav" href="Rules/how-to-play.html">How To Play</a>
          <br>Quick-Start Guide
      </div>
      <div>
        <span class="section">Dice Sizes</span>
        <br>Advantages & Bonuses
        <br>Checks
        <br>Main Skills
        <br>Special Dice
      </div>
      <div>
        <span class="section">Combat Count</span>
        <br>Actions
        <br>Attacks
        <br>Conditions
        <br>Damage & Health
        <br>Trauma
      </div>
      <div>
        <span class="section">Digital World</span>
        <br>Hacking
        <br>Servers
      </div>
      <div>
        <span class="section">Exploration</span>
        <br>Environment
        <br>Movement
        <br>Rest
        <br>Senses
        <br>Stealth
        <br>Time
      </div>
      <div>
        <span class="section">Long-Term Activity</span>
        <br>Downtime
        <br>Long-Term Projects
      </div>
      <div>
        <span class="section">Ships & Vehicles</span>
        <br>Using Ships & Vehicles
        <br>Teleportation
      </div>
    </div>

    <button type="button" onclick="toggleDropdown('CO')" class="dropdown">
      <div>Character Options</div>
    </button>
    <div id="CO" class="dropdownContent" style="visibility: hidden;">
      <div class="section">
        <a class="topnav" href="Rules/character-options.html">Character Basics</a>
        <br>How to Make a Character
      </div>
      <div>
        <span class="section">Build Your Alien Race</span>
        <br>Racial Traits
      </div>
      <div>
        <span class="section">History & Personality</span>
        <br>Backgrounds
        <br>Character Traits
        <br>One of a Kind
      </div>
      <div>
        <span class="section">Classes</span>
        <br>Heavy
        <br>Commando
        <br>Scolar
        <br>Shaman
        <br>Mage
      </div>
      <div>
        <span class="section">Enhancements</span>
        <br>Enhancements by Cost
        <br>Enhancements by Type
      </div>
    </div>

    <button type="button" onclick="toggleDropdown('EQ')" class="dropdown">
      <div>Equipment</div>
    </button>
    <div id="EQ" class="dropdownContent" style="visibility: hidden; right: 15%;">
      <div class="section">
        <a class="topnav" href="Rules/equipment.html">Equipment Basics</a>
      </div>
      <div>
        <span class="section">Technology</span>
        <br>Body Modifications
        <br>Hardware
        <br>Software
      </div>
      <div>
        <span class="section">Tools & Materials</span>
        <br>Basic Expenses
        <br>Chemicals & Pharmaceuticals
        <br>Field Gear
        <br>Power
        <br>Tools
      </div>
      <div>
        <span class="section">Ships & Vehicles</span>
        <br>Spacecraft
        <br>Vehicles
      </div>
      <div>
        <span class="section">Workers & Animals</span>
        <br>Animals & Animal Gear
        <br>Labor
        <br>Repair
      </div>
    </div>

    <button type="button" onclick="toggleDropdown('AM')" class="dropdown">
      <div>Ancient Magic</div>
    </button>
    <div id="AM" class="dropdownContent" style="visibility: hidden; right: 0%;">
      <div class="section">
        <a class="topnav" href="Rules/ancient-magic.html">Ancient Magic</a>
      </div>
      <div>
        <span class="section">Using Magic</span>
        <br>Magical Dice
        <br>Stress & Essence
        <br>Wild Surges
      </div>
      <div>
        <span class="section">Spells</span>
      </div>
      <div>
        <span class="section">Enchantment</span>
        <br>Learning Enchantments
        <br>Casting Enchantments
        <br>Enchantments by Level
      </div>
      <div>
        <span class="section">Rituals</span>
        <br>Casting Rituals
        <br>Ritual Components
        <br>Ritual Totems
      </div>
      <div>
        <span class="section">Magical Items</span>
        <br>Artifacts
        <br>Magitek
      </div>
    </div>
  </div>
</nav>

<div class="container" id="Content-container">
  <!-- page content goes here -->
</div>

<script>

function toggleDropdown(id) {
  var hidden = document.getElementById(id).style.visibility == "hidden";

  document.getElementById('settings').style.visibility = "hidden";
  document.getElementById('HTP').style.visibility = "hidden";
  document.getElementById('CO').style.visibility = "hidden";
  document.getElementById('EQ').style.visibility = "hidden";
  document.getElementById('AM').style.visibility = "hidden";

  if (hidden) document.getElementById(id).style.visibility = "visible";
}
// function toggleLightDark() {
//   if (getComputedStyle(document.documentElement)
//     .getPropertyValue('--lightMode') == "light") {
    
//     document.documentElement.style.setProperty('lightMode', "dark"); } 
//   else {
//     document.documentElement.style.setProperty('lightMode', "light"); }
// }
function toggleLightMode () {
  if (--font1 == "000000") {
    --font1 == "FFFFFF";
    --font2 == "000000";
  } 
  else {
    --font1 == "000000";
    --font2 == "FFFFFF";
  }
}

function loadContent(page) {
  fetch(`content/${page}.md`)
    .then(response => response.text())
    .then(markdown => {
      const htmlContent = marked.parse(markdown);
      document.getElementById('Content-container').innerHTML = htmlContent;
    })
    .catch(error => console.error('Error loading rules:', error));

    applyTooltips();
  }

function applyTooltips() {
  const links = document.querySelectorAll('#content a');

  links.forEach(link => {
    // Extract the filename (e.g., 'usage.md' -> 'usage')
    const fileName = link.href.split('/').pop().replace('.md', '');

    if (tooltips[fileName]) {
      link.title = tooltips[fileName];
    }
  });
}

// Automatically load home page content when the page loads
window.onload = function() {
  loadContent('home');
}

</script>

<noscript>Sorry, your browser doesn't support JavaScript!</noscript>

</body>
</html>